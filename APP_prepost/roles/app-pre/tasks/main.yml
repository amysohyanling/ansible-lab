---
# tasks file for app-pre
- name: Gather service facts
  ansible.builtin.service_facts:

- name: Check running services for JBoss and WildFly
  ansible.builtin.set_fact:
    jboss_service_status: "{{ ansible_facts['services']['jboss-eap.service']['state'] }}"
    wildfly_service_status: "{{ ansible_facts['services']['jboss-wildfly.service']['state'] }}"

- name: Print services that are running
  ansible.builtin.debug:
    msg: "{{ item }} is running "
  loop:
    - jboss_service_status
    - wildfly_service_status